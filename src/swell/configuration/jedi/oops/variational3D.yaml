cost function:
  cost type: 3D-Var
  time window:
    begin: '{{window_begin_iso}}'
    end: '{{window_end_iso}}'
    bound to include: begin
  geometry:
    TASKFILLgeometry
  analysis variables: {{analysis_variables}}
  background:
    TASKFILLbackground
  background error:
    TASKFILLbackground_error
  observations:
    observers:
      SPECIALobservations
variational:
  minimizer:
    algorithm: {{minimizer}}
  iterations:
  - geometry: TASKFILLgeometry_inner
    gradient norm reduction: '{{gradient_norm_reduction}}'
    ninner: '{{number_of_iterations}}'
    diagnostics:
      departures: ombg
# This might work for the ocean, but it is incorrect for atmos. 
# I know the correct settings for atmos, but am afraid to break
# ocean; I suppose this should be treated as a TASK to be filled
# differently for O and A.
#   online diagnostics:
#     write increment: true
#     increment:
#       state component:
#         datadir: ./
#         date: '{{window_begin_iso}}'
#         exp: {{experiment_id}}
#         type: incr
final:
  diagnostics:
    departures: oman
  prints:
    frequency: PT3H  #TODO: Define this as a default value in suite config
output:
  TASKFILLanalysis
