# TODO: this file probably needs a different name (bump_*)

# ERROR: This order is not protected after processed by Swell, hence
# creating a different config file (I saw model: online entry for bump)
# model: online entry was encountered during execution with swell

covariance model: 'SocaError'
analysis variables: {{analysis_variables}}
date: '{{local_background_time_iso}}'
bump:
  io:
    data directory: '{{cycle_dir}}/background_error_model/'
  drivers:
    multivariate strategy: 'univariate'
    read local nicas: true

correlation:
- name: 'ocn'
  variables: {{analysis_variables}}

linear variable change:
  input variables: {{analysis_variables}}
  output variables: {{analysis_variables}}
  linear variable changes:
  - linear variable change name: BkgErrFILT
    ocean_depth_min: 1000 # [m]
    rescale_bkgerr: 1.0
    efold_z: 2500.0       # [m]

  - linear variable change name: BkgErrGODAS
    sst_bgerr_file: '{{experiment_dir}}/stage/soca/geos_ocean/fieldmetadata/godas_sst_bgerr.nc'
    t_min: 0.1
    t_max: 2.0
    t_dz:  20.0
    t_efold: 500.0
    s_min: 0.0
    s_max: 0.25
    ssh_min: 0.0   # value at EQ
    ssh_max: 0.1   # value in Extratropics
    ssh_phi_ex: 20 # lat of transition from extratropics
    cicen_min: 0.1
    cicen_max: 0.5
    hicen_min: 10.0
    hicen_max: 100.0

  - linear variable change name: VertConvSOCA
    Lz_min: 2.0
    Lz_mld: 1
    Lz_mld_max: 500.0
    scale_layer_thick: 1.5
