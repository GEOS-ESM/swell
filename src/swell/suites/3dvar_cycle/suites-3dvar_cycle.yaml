# Cycle start point
start_cycle_point:
  default_value: '2021-06-21T06:00:00Z'
  prompt: What is the time of the first cycle (middle of the window)?
  type: iso-datetime

# Cycle final point
final_cycle_point:
  default_value: '2021-06-21T18:00:00Z'
  prompt: What is the time of the final cycle (middle of the window)?
  type: iso-datetime

# Each forecast cycle consists of a set duration until DA
# Should be less than or equal to 1 day due to the ISO -> string conversion
forecast_duration:
  default_value: 'PT12H'
  prompt: What is the GEOS forecast duration?
  type: string

# Run ahead limit for workflow
runahead_limit:
  default_value: 'P4'
  prompt: Since this suite is cycling choose how many hours the workflow can run ahead?
  type: string

# Models to use
model_components:
  default_value: ['geos_ocean']
  prompt: Select models to use
  options: use_method
  type: file-check-list

#-------------------------------------------------------------------------------
# GEOS Settings
#-------------------------------------------------------------------------------
# Geos build system
geos_build_method:
  default_value: use_existing
  prompt: Create a new GEOS build or use an existing build?
  options: ['create', 'use_existing']
  type: string-drop-list

# Existing GEOS source directory
existing_geos_source_directory:
  default_value: {{existing_geos_source_directory}}
  prompt: Provide the path to an existing GEOS bundle directory containing source code repos
  type: string
  depends:
    key: geos_build_method
    value: use_existing

# Existing GEOS build directory
existing_geos_build_directory:
  default_value: {{existing_geos_build_directory}}
  prompt: Provide the path to an existing GEOS build directory
  type: string
  depends:
    key: geos_build_method
    value: use_existing

# R2D2 Configuration
r2d2_local_path:
  default_value: {{r2d2_local_path}}
  prompt: Enter the path where R2D2 will store experiment output
  type: string

# What kind of coupling is needed
# model_coupling_style:
#   default_value: uncoupled
#   prompt: What kind of coupling would you like to run with?
#   options: ['uncoupled', 'coupled']
#   type: string-drop-list

# GEOS Experiment folder, created by gcm_setup script
geos_experiment_directory:
  default_value: experiment_directory
  prompt: What experiment folder should GEOS obtain settings?
  options: ['experiment_directory']
  type: string-drop-list

# GEOS restarts folder, produced by GEOS cold start
geos_restarts_directory:
  default_value: restarts
  prompt: What experiment folder should GEOS obtain settings?
  options: ['restarts']
  type: string-drop-list

# Processor layout
npx_proc:
  default_value: '6'
  prompt: What processor layout (x-direction) per cube face?
  type: string
npy_proc:
  default_value: '1'
  prompt: What processor layout (y-direction) per cube face?
  type: string

# Version of GCM being used
geos_gcm_tag:
  default_value: 'v10.25.1'
  prompt: Which tag of GEOS do you want to build?
  options: ['v10.25.1']
  type: string-drop-list

#-------------------------------------------------------------------------------
# JEDI Settings
#-------------------------------------------------------------------------------
# Jedi build system
jedi_build_method:
  default_value: use_existing
  prompt: Create a new JEDI build or use an existing build?
  options: ['create', 'use_existing']
  type: string-drop-list

# Existing JEDI bundle directory
existing_source_directory:
  default_value: {{existing_source_directory}}
  prompt: Provide the path to an existing JEDI bundle directory containing source code repos
  type: string
  depends:
    key: jedi_build_method
    value: use_existing

# Existing JEDI build
existing_build_directory:
  default_value: {{existing_build_directory}}
  prompt: Provide the path to an existing JEDI build directory
  type: string
  depends:
    key: jedi_build_method
    value: use_existing


# Fixed options (user not prompted for these)
# -------------------------------------------
fixed_options:
  data_assimilation_run:
    default_value: true
    prompt: Does this workflow include data assimilation?

  total_processors:
    default_value:  'npx_proc * npy_proc'
    prompt: Equation to compute total number of processors

